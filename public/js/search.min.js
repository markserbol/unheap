function loadAPIClientInterfaces(){gapi.client.load("youtube","v3",function(){handleAPILoaded()})}function handleAPILoaded(){$("#query").attr("disabled",!1)}function search(){console.log("search"),clearSearchResults();var a=$("#query").val(),b=gapi.client.youtube.search.list({q:a,part:"snippet",maxResults:20});b.execute(buildSearchList)}function buildSearchList(a){console.log(a);var b=[],c=[];for(var d in a.items){var e=a.items[d];c.push(e.id.videoId);var f=$("<li>",{id:e.id.videoId,"data-video-id":e.id.videoId,"data-video-title":e.snippet.title,"class":"search-result-item"}),g=$("<img>",{src:e.snippet.thumbnails["default"].url}),h=$("<div>",{"class":"item-info",html:['<h3 class="title">'+e.snippet.title+"</h3>",'<span class="channel">by '+e.snippet.channelTitle+"</span>",'<span class="views"></span>'].join("")});f.append(g).append(h),b.push(f.prop("outerHTML"))}$("#search-result").append(b.join("")),getVideoStats(c)}function getVideoStats(a){var b=["https://www.googleapis.com/youtube/v3/videos?","part=statistics","&id="+a.join(","),"&key="+API_KEY];$.getJSON(b.join(""),function(a){console.log("resp",a);for(var b in a.items){var c=a.items[b],d=c.statistics.viewCount;$("#"+c.id).attr("data-video-views",d).data("video-views",d).find(".views").html(d+" views")}})}function clearSearchResults(){$("#search-result").empty()}var API_KEY="AIzaSyAtCv37HZUzW9jeWv5X8-9IjPddeEil_Dc";googleApiClientReady=function(){gapi.client.setApiKey(API_KEY),loadAPIClientInterfaces()};