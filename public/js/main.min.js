function buildVideoInfo(a){var b=$(".video-info"),c=searchList[a];b.removeClass("hide"),b.find(".video-title").text(c.title),b.find(".video-channel").text(c.channelTitle),b.find(".video-views").text(c.viewCount),b.find(".description").text(c.description)}function addToPlaylist(a){var b=searchList[a],c=$("<li>",{"class":"playlist-item","data-video-id":a}),d=$("<img>",{"class":"video-thumbnail",src:b.thumbnail}),e=$("<h3>",{"class":"video-title",text:b.title}),f=$("<div>",{"class":"controls",html:'<span id="remove-item"><i class="fa fa-close"></i></span>'});c.append(d,[e,f]),$("#playlist").append(c),1!==player.getPlayerState()&&0===c.index()&&$("#playlist .playlist-item").first().trigger("click")}var player,API_KEY="AIzaSyAtCv37HZUzW9jeWv5X8-9IjPddeEil_Dc",searchList={};$(".collapse-search-toggle").click(function(){var a=$(".search-panel");a.toggleClass("collapsed")}),$("#query").keyup(function(a){var b=a.keyCode||a.which;13===b&&search()}),$(document).on("click","#search-result .search-result-item",function(){var a=$(this).data("video-id");addToPlaylist(a),$(".search-panel").addClass("collapsed")}),$(document).on("click","#playlist .playlist-item",function(){var a=$(this).data("video-id");player.loadVideoById({videoId:a,suggestedQuality:"large"}),$(this).addClass("active").siblings().removeClass("active"),buildVideoInfo(a)}),$(document).on("click","#remove-item",function(a){a.stopPropagation(),$(this).closest(".playlist-item").remove()}),$(document).ready(function(){Sortable.create(document.getElementById("playlist"))});